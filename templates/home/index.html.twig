{% extends "base.html.twig" %}

{% block title %}
    Accueil 
          
        
      
    
{% endblock %}

{% block body %}

    <h1>
        Bienvenue sur la page d'accueil !
              
          
    </h1>

    <div class="row">
    {# {% for user in users %} #}
{# <p> {{ user}} </p>
    {% endfor %}} #}
        <div class="col-3">
            {% for movie in movies %}
                <div class="card col-4" style="width: 18rem;">
                    <div class="card-body">
                        <a href="/view/{{ movie.id }}">
                            <h5 class="card-title">
                                {{ movie.name }}
                            </h5>
                        </a>
                        {% if movie.image starts with 'http' %}
                            <img
                        style="max-width: 100%" src="{{ movie.image }}" alt={{ movie.name}} />
                            {% else %}
                            <img style="max-width: 100%" src="/assets/upload/images/{{ movie.image }}" alt={{ movie.name }} />
                        {% endif %}
                        <div class="card-text" style=" max-height: 250px;
                                                                      height: 250px;
                                                                      white-space: nowrap;
                                                                      overflow: hidden;
                                                                      text-overflow: ellipsis;">
                            {{ movie.synopsis | raw }}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        {% if genres is defined %}
            <div class="col-2">
                <h5>
                    Genre
                </h5>
                <ul class="list-group">
                    {% for genre in genres %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <a href="/showByGenre/{{ genre.id }}">
                                {{ genre.name }}
                            </a>
                            <span class="badge bg-primary rounded-pill">
                                {{ genre.movies | length }}
                            </span>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
        <!-- kijlkjlk-->
        {% if actors is defined %}
            <div class="col-2">
                <h5>
                    Actor
                </h5>
                <ul class="list-group">
                    {% for actor in actors %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <a href="/showByActor/{{ actor.id }}">
                                {{ actor.firstName }}
                                {{ actor.lastName }}
                            </a>
                            <span class="badge bg-primary rounded-pill">
                                {{ actor.movies | length }}
                            </span>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
    </div>
    <!-- kijlkjlk-->
    {% if studios is defined %}
        <div class="col-2">
            <h5>
                Studio
            </h5>
            <ul class="list-group">
                {% for studio in studios %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <a href="/showByStudio/{{ studio.id }}">
                            {{ studio.name }}
                        </a>
                        <span class="badge bg-primary rounded-pill">
                            {{ studio.movies | length }}
                        </span>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
{# </div> #}
{% endblock %}